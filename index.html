<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#d35400">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Casa Casino">
    <meta name="application-name" content="Casa Casino">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
    
    <!-- Inline PWA Manifest -->
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIkNhc2EgQ2FzaW5vIiwKICAic2hvcnRfbmFtZSI6ICJDYXNhIENhc2lubyIsCiAgImRlc2NyaXB0aW9uIjogIkZhbWlsaWVuLU9yZ2FuaXNhdGlvbiBmw7xyIE1heCwgQW5uYSAmIFZhbGVyaWUiLAogICJzdGFydF91cmwiOiAiLiIsCiAgImRpc3BsYXkiOiAic3RhbmRhbG9uZSIsCiAgImJhY2tncm91bmRfY29sb3IiOiAiI2Y1ZjFlOCIsCiAgInRoZW1lX2NvbG9yIjogIiNkMzU0MDAiLAogICJpY29ucyI6IFsKICAgIHsKICAgICAgInNyYyI6ICJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgMTAwIDEwMCclM0UlM0NkZWZzJTNFJTNDbGluZWFyR3JhZGllbnQgaWQ9J2cnIHgxPScwJyUzRSUzQ3N0b3Agc3RvcC1jb2xvcj0nJTIzZDM1NDAwJy8lM0UlM0NzdG9wIG9mZnNldD0nMTAwJTI1JyBzdG9wLWNvbG9yPSclMjNlNjdlMjInLyUzRSUzQy9saW5lYXJHcmFkaWVudCUzRSUzQy9kZWZzJTNFJTNDY2lyY2xlIGN4PSc1MCcgY3k9JzUwJyByPSc0MCcgZmlsbD0ndXJsKCUyM2cpJy8lM0UlM0N0ZXh0IHg9JzUwJyB5PSc2NScgdGV4dC1hbmNob3I9J21pZGRsZScgZm9udC1zaXplPSczMCcgZmlsbD0nd2hpdGUnJTNFJUYwJTlGJThFJUIwJTNDL3RleHQlM0UlM0Mvc3ZnJTNFIiwKICAgICAgInNpemVzIjogIjUxMng1MTIiLAogICAgICAidHlwZSI6ICJpbWFnZS9zdmcreG1sIgogICAgfQogIF0sCiAgIm9yaWVudGF0aW9uIjogInBvcnRyYWl0IiwKICAiY2F0ZWdvcmllcyI6IFsiZmFtaWx5IiwgImxpZmVzdHlsZSIsICJwcm9kdWN0aXZpdHkiXQp9">
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0'%3E%3Cstop stop-color='%23d35400'/%3E%3Cstop offset='100%25' stop-color='%23e67e22'/%3E%3C/linearGradient%3E%3C/defs%3E%3Ccircle cx='50' cy='50' r='40' fill='url(%23g)'/%3E%3Ctext x='50' y='65' text-anchor='middle' font-size='30' fill='white'%3Eüé∞%3C/text%3E%3C/svg%3E">
    
    <title>Casa Casino üé∞</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            -webkit-tap-highlight-color: transparent; 
            -webkit-user-select: none; 
            user-select: none; 
        }
        
        :root {
            /* Original Casa Casino Colors */
            --primary: #d35400;
            --primary-light: #e67e22;
            --bg: #f5f1e8;
            --card: #ffffff;
            --text: #1a1a2e;
            --text-light: #4a4a5a;
            --border: #d0ccc0;
            --success: #00a878;
            --danger: #c0392b;
            --purple: #5b4caa;
            --pink: #c44569;
            --blue: #0984e3;
            --max-color: #0984e3;
            --anna-color: #c44569;
            --text-white: #ffffff;
            
            /* Premium Glass Effects (subtle) */
            --glass: rgba(255, 255, 255, 0.9);
            --glass-border: rgba(208, 204, 192, 0.3);
            --glass-dark: rgba(0, 0, 0, 0.05);
            
            /* Enhanced Shadows */
            --shadow: 0 2px 12px rgba(0,0,0,0.1);
            --shadow-soft: 0 8px 25px rgba(0, 0, 0, 0.1);
            --shadow-strong: 0 12px 40px rgba(0, 0, 0, 0.15);
            --shadow-glow: 0 0 20px rgba(211, 84, 0, 0.2);
            
            /* Premium Borders */
            --radius: 20px;
            --radius-lg: 30px;
            
            /* Smooth Animations */
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            --transition-fast: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        body { 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            background: var(--bg);
            color: var(--text); 
            min-height: 100vh; 
            padding-bottom: 100px;
            overflow-x: hidden;
            position: relative;
        }
        
        /* Subtle floating background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(211, 84, 0, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(230, 126, 34, 0.05) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
            animation: float 20s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            33% { transform: translateY(-20px); }
            66% { transform: translateY(10px); }
        }
        
        /* Premium Header with Original Colors */
        .header { 
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: var(--text-white); 
            padding: 16px 20px; 
            text-align: center; 
            position: sticky; 
            top: 0; 
            z-index: 100; 
            display: flex; 
            justify-content: space-between; 
            align-items: center;
            box-shadow: var(--shadow-soft);
        }
        
        .header h1 { 
            font-size: 1.4rem; 
            font-weight: 800; 
            animation: shimmer 3s ease-in-out infinite;
        }
        
        @keyframes shimmer {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.9; transform: scale(1.02); }
        }
        
        .install-btn { 
            display: none; 
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: var(--text-white); 
            padding: 8px 16px; 
            border-radius: 15px; 
            font-size: 0.75rem; 
            font-weight: 600; 
            cursor: pointer; 
            transition: var(--transition-fast);
        }
        
        .install-btn:hover { 
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: var(--shadow-soft);
        }
        
        .install-btn.show { display: block; }

        .standalone-notice { 
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: var(--text-white); 
            padding: 12px 16px; 
            text-align: center; 
            font-size: 0.85rem; 
            font-weight: 600;
            box-shadow: var(--shadow-soft);
        }

        .screen { 
            display: none; 
            padding: 16px; 
            animation: slideIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .screen.active { 
            display: block; 
        }
        
        @keyframes slideIn {
            from { 
                opacity: 0; 
                transform: translateY(30px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }

        /* Premium Cards with Original Colors */
        .card { 
            background: var(--card);
            border-radius: var(--radius); 
            padding: 20px; 
            margin-bottom: 16px; 
            box-shadow: var(--shadow-soft);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            border: 1px solid var(--glass-border);
        }
        
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--primary-light));
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-strong);
        }
        
        .card:hover::before {
            transform: scaleX(1);
        }
        
        .card-title { 
            font-size: 0.8rem; 
            text-transform: uppercase; 
            letter-spacing: 0.5px; 
            color: var(--text-light); 
            margin-bottom: 12px; 
            display: flex; 
            justify-content: space-between; 
            align-items: center;
            font-weight: 700;
        }

        /* Premium Navigation with Original Colors */
        .nav { 
            position: fixed; 
            bottom: 0; 
            left: 0; 
            right: 0; 
            background: var(--card);
            display: flex; 
            justify-content: space-around; 
            padding: 8px 0 max(8px, env(safe-area-inset-bottom)); 
            box-shadow: 0 -8px 32px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            border-top: 1px solid var(--border);
        }
        
        .nav-item { 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            padding: 8px 16px; 
            border-radius: 18px; 
            cursor: pointer; 
            transition: var(--transition);
            position: relative;
        }
        
        .nav-item::before {
            content: '';
            position: absolute;
            inset: -2px;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            border-radius: 20px;
            opacity: 0;
            transition: var(--transition-fast);
            z-index: -1;
        }
        
        .nav-item.active::before {
            opacity: 1;
        }
        
        .nav-item.active { 
            color: var(--text-white);
            transform: translateY(-3px);
        }
        
        .nav-item:hover:not(.active) {
            transform: translateY(-2px);
            background: var(--glass);
        }
        
        .nav-icon { 
            font-size: 1.4rem; 
            margin-bottom: 2px; 
            transition: var(--transition-fast);
        }
        
        .nav-item.active .nav-icon {
            animation: bounce 0.6s ease-in-out;
        }
        
        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        
        .nav-label { 
            font-size: 0.65rem; 
            font-weight: 600; 
        }

        /* Premium Buttons with Original Colors */
        .btn { 
            display: inline-flex; 
            align-items: center; 
            justify-content: center; 
            gap: 8px; 
            padding: 12px 20px; 
            border: none; 
            border-radius: 15px; 
            font-size: 0.9rem; 
            font-weight: 600; 
            cursor: pointer; 
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        .btn:hover::before {
            left: 100%;
        }
        
        .btn-primary { 
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: var(--text-white);
            box-shadow: var(--shadow-glow);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 0 25px rgba(211, 84, 0, 0.3);
        }
        
        .btn-secondary { 
            background: var(--border);
            color: var(--text);
        }
        
        .btn-success { 
            background: var(--success);
            color: var(--text-white);
        }
        
        .btn-block { width: 100%; }
        .btn-sm { padding: 8px 12px; font-size: 0.75rem; }

        /* HEUTE Screen - Premium Status Cards with Original Colors */
        .today-hero { 
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: var(--text-white); 
            border-radius: var(--radius-lg); 
            padding: 24px; 
            margin-bottom: 16px;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-strong);
        }
        
        .today-hero::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: pulse 4s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1) rotate(0deg); opacity: 0.2; }
            50% { transform: scale(1.1) rotate(180deg); opacity: 0.4; }
        }
        
        .today-date { 
            font-size: 0.85rem; 
            opacity: 0.9; 
            font-weight: 500;
            position: relative;
            z-index: 2;
        }
        
        .today-greeting { 
            font-size: 1.6rem; 
            font-weight: 800; 
            margin: 6px 0;
            position: relative;
            z-index: 2;
        }

        .status-row { 
            display: flex; 
            gap: 12px; 
            margin-bottom: 16px; 
        }
        
        .status-card { 
            flex: 1; 
            background: var(--card);
            border-radius: var(--radius); 
            padding: 18px; 
            text-align: center; 
            box-shadow: var(--shadow-soft);
            border: 1px solid var(--glass-border);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .status-card::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 4px;
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }
        
        .status-card.free::before { 
            background: var(--success);
        }
        .status-card.busy::before { 
            background: linear-gradient(90deg, var(--primary), var(--primary-light));
        }
        
        .status-card:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: var(--shadow-strong);
        }
        
        .status-card:hover::before {
            transform: scaleX(1);
        }
        
        .status-icon { 
            font-size: 1.8rem; 
            margin-bottom: 6px;
            animation: float 3s ease-in-out infinite;
        }
        
        .status-value { 
            font-size: 1.3rem; 
            font-weight: 800;
            color: var(--primary);
        }
        
        .status-label { 
            font-size: 0.7rem; 
            color: var(--text-light); 
            text-transform: uppercase; 
            margin-top: 4px;
            font-weight: 600;
        }

        .next-block { 
            background: linear-gradient(135deg, #fff8f0, var(--card));
            border: 2px solid var(--primary-light);
            border-radius: var(--radius); 
            padding: 20px; 
            margin-bottom: 16px;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .next-block::before {
            content: '‚ö°';
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 1.2rem;
            color: var(--primary);
            animation: pulse 2s ease-in-out infinite;
        }
        
        .next-block:hover {
            transform: translateX(5px);
            box-shadow: var(--shadow-strong);
        }
        
        .next-label { 
            font-size: 0.75rem; 
            color: var(--text-light); 
            text-transform: uppercase;
            font-weight: 700;
        }
        
        .next-title { 
            font-size: 1.2rem; 
            font-weight: 800; 
            margin-top: 6px;
            color: var(--primary);
        }
        
        .next-time { 
            font-size: 0.9rem; 
            color: var(--text-light);
            font-weight: 500;
        }

        /* VALERIE Screen - Premium Time Tiles with Original Colors */
        .day-nav { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 16px; 
            background: var(--card);
            border-radius: var(--radius); 
            padding: 12px 18px; 
            box-shadow: var(--shadow-soft);
            border: 1px solid var(--glass-border);
        }
        
        .day-nav-btn { 
            width: 40px; 
            height: 40px; 
            border: none; 
            background: var(--glass);
            border-radius: 12px; 
            font-size: 1.2rem; 
            cursor: pointer;
            transition: var(--transition-fast);
            color: var(--text);
            border: 1px solid var(--border);
        }
        
        .day-nav-btn:hover {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: var(--text-white);
            transform: scale(1.1);
        }
        
        .day-nav-day { 
            font-weight: 800; 
            font-size: 1.1rem;
            color: var(--primary);
        }
        
        .day-nav-date { 
            font-size: 0.8rem; 
            color: var(--text-light);
            font-weight: 500;
        }

        .time-tiles { 
            display: grid; 
            grid-template-columns: repeat(4, 1fr); 
            gap: 12px; 
            margin-bottom: 16px; 
        }
        
        .time-tile { 
            aspect-ratio: 1; 
            background: var(--card);
            border-radius: 18px; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center; 
            cursor: pointer; 
            box-shadow: var(--shadow-soft);
            border: 2px solid var(--glass-border);
            transition: var(--transition);
            position: relative; 
            overflow: hidden;
        }
        
        .time-tile:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: var(--shadow-strong);
        }
        
        .time-tile:active { 
            transform: scale(0.95); 
        }
        
        .time-tile .tile-time { 
            font-size: 0.75rem; 
            font-weight: 700; 
            color: var(--text-light);
            position: relative;
            z-index: 2;
        }
        
        .time-tile .tile-icon { 
            font-size: 1.6rem; 
            margin: 6px 0;
            position: relative;
            z-index: 2;
            animation: float 2s ease-in-out infinite;
        }
        
        .time-tile .tile-label { 
            font-size: 0.65rem; 
            color: var(--text-light); 
            text-align: center; 
            padding: 0 4px;
            font-weight: 600;
            position: relative;
            z-index: 2;
        }
        
        .time-tile.empty { 
            background: var(--bg);
            border: 2px dashed var(--border);
        }
        
        .time-tile.selected { 
            box-shadow: 0 0 0 4px rgba(211, 84, 0, 0.3);
        }
        
        .time-tile.kiga { 
            background: linear-gradient(135deg, #a29bfe, var(--purple));
            color: var(--text-white); 
        }
        
        .time-tile.kiga .tile-time, 
        .time-tile.kiga .tile-label { 
            color: rgba(255,255,255,0.95); 
        }
        
        .time-tile.max { 
            background: linear-gradient(135deg, #74b9ff, var(--max-color));
            color: var(--text-white); 
        }
        
        .time-tile.max .tile-time, 
        .time-tile.max .tile-label { 
            color: rgba(255,255,255,0.95); 
        }
        
        .time-tile.anna { 
            background: linear-gradient(135deg, #fd79a8, var(--anna-color));
            color: var(--text-white); 
        }
        
        .time-tile.anna .tile-time, 
        .time-tile.anna .tile-label { 
            color: rgba(255,255,255,0.95); 
        }

        /* Premium Tabs with Original Colors */
        .tabs { 
            display: flex; 
            gap: 8px; 
            margin-bottom: 16px; 
            overflow-x: auto; 
        }
        
        .tab { 
            padding: 10px 16px; 
            border-radius: 20px; 
            font-size: 0.8rem; 
            font-weight: 600; 
            white-space: nowrap; 
            cursor: pointer; 
            background: var(--card);
            border: 2px solid var(--border);
            transition: var(--transition);
        }
        
        .tab.active { 
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: var(--text-white); 
            box-shadow: var(--shadow-glow);
            transform: translateY(-2px);
            border-color: transparent;
        }
        
        .tab:hover:not(.active) {
            background: var(--glass);
            transform: translateY(-1px);
        }

        /* Premium Routine Items */
        .routine-item { 
            display: flex; 
            align-items: center; 
            padding: 12px 16px; 
            background: var(--bg);
            border-radius: 12px; 
            margin-bottom: 10px; 
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid var(--border);
        }
        
        .routine-item:hover {
            transform: translateX(5px);
            background: var(--card);
            box-shadow: var(--shadow-soft);
        }
        
        .routine-item.done { 
            background: #d4edda;
            border-color: var(--success);
        }
        
        .routine-checkbox { 
            width: 28px; 
            height: 28px; 
            border: 2px solid var(--border);
            border-radius: 50%; 
            margin-right: 12px; 
            display: flex; 
            align-items: center; 
            justify-content: center;
            transition: var(--transition-fast);
        }
        
        .routine-item.done .routine-checkbox { 
            background: var(--success);
            border-color: var(--success);
            color: var(--text-white);
            animation: checkmark 0.3s ease-in-out;
        }
        
        @keyframes checkmark {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        
        .routine-emoji { 
            font-size: 1.4rem; 
            margin-right: 12px; 
        }
        
        .routine-text { 
            font-weight: 500; 
            font-size: 0.95rem; 
        }

        /* MEALS Screen - Premium Dice with Original Colors */
        .dice-section { 
            background: linear-gradient(135deg, var(--purple), #7c6dd8);
            border-radius: var(--radius-lg); 
            padding: 30px; 
            text-align: center; 
            margin-bottom: 16px; 
            color: var(--text-white);
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-strong);
        }
        
        .dice-section::before {
            content: '';
            position: absolute;
            inset: 0;
            background: 
                radial-gradient(circle at 30% 30%, rgba(255,255,255,0.1) 0%, transparent 50%),
                radial-gradient(circle at 70% 70%, rgba(255,255,255,0.05) 0%, transparent 50%);
            animation: float 6s ease-in-out infinite;
        }
        
        .dice { 
            font-size: 4rem; 
            cursor: pointer; 
            display: inline-block;
            transition: var(--transition);
            position: relative;
            z-index: 2;
        }
        
        .dice:hover {
            transform: scale(1.1);
        }
        
        .dice.spinning { 
            animation: spin 0.6s ease-in-out; 
        }
        
        @keyframes spin { 
            0% { transform: rotate(0) scale(1); } 
            50% { transform: rotate(180deg) scale(1.3); } 
            100% { transform: rotate(360deg) scale(1); } 
        }
        
        .dice-result { 
            margin-top: 16px; 
            padding: 16px; 
            background: rgba(255, 255, 255, 0.15);
            border-radius: 15px;
            position: relative;
            z-index: 2;
        }

        /* Premium Meal Rows */
        .meal-row { 
            display: flex; 
            align-items: center; 
            gap: 12px; 
            background: var(--card);
            border-radius: var(--radius); 
            padding: 12px 16px; 
            margin-bottom: 10px; 
            box-shadow: var(--shadow-soft);
            border: 1px solid var(--glass-border);
            transition: var(--transition);
        }
        
        .meal-row:hover {
            transform: translateX(5px);
            box-shadow: var(--shadow-strong);
        }
        
        .meal-day { 
            min-width: 40px; 
            text-align: center; 
        }
        
        .meal-day-name { 
            font-weight: 800; 
            font-size: 0.85rem;
            color: var(--primary);
        }
        
        .meal-day-date { 
            font-size: 0.7rem; 
            color: var(--text-light);
            font-weight: 500;
        }
        
        .meal-slots { 
            flex: 1; 
            display: flex; 
            gap: 8px; 
        }
        
        .meal-slot { 
            flex: 1; 
            background: var(--bg);
            border: 2px dashed var(--border);
            border-radius: 10px; 
            padding: 10px; 
            text-align: center; 
            cursor: pointer; 
            min-height: 44px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-size: 0.85rem;
            font-weight: 500;
            transition: var(--transition-fast);
        }
        
        .meal-slot:hover {
            background: var(--card);
            transform: scale(1.05);
        }
        
        .meal-slot.filled { 
            background: #fff8f0;
            border: 2px solid var(--primary-light);
            color: var(--text);
            font-weight: 600;
        }

        /* Info Items */
        .info-item { 
            background: var(--bg);
            border-radius: 12px; 
            padding: 12px 16px; 
            margin-bottom: 10px;
            border: 1px solid var(--border);
            transition: var(--transition);
        }
        
        .info-item:hover {
            background: var(--card);
            transform: translateX(3px);
        }
        
        .info-label { 
            font-size: 0.75rem; 
            color: var(--text-light); 
            text-transform: uppercase;
            font-weight: 600;
        }
        
        .info-value { 
            font-weight: 600; 
            margin-top: 4px; 
        }

        /* Premium Shopping Items */
        .shopping-item { 
            display: flex; 
            align-items: center; 
            padding: 12px; 
            background: var(--card);
            border-radius: 10px; 
            margin-bottom: 8px; 
            box-shadow: var(--shadow-soft);
            cursor: pointer;
            border: 1px solid var(--glass-border);
            transition: var(--transition);
        }
        
        .shopping-item:hover {
            transform: translateX(5px);
            box-shadow: var(--shadow-strong);
        }
        
        .shopping-item.checked { 
            opacity: 0.6; 
            text-decoration: line-through; 
        }
        
        .shopping-checkbox { 
            width: 24px; 
            height: 24px; 
            border: 2px solid var(--border);
            border-radius: 50%; 
            margin-right: 12px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-size: 0.7rem;
            transition: var(--transition-fast);
        }
        
        .shopping-item.checked .shopping-checkbox { 
            background: var(--success);
            border-color: var(--success);
            color: var(--text-white);
        }

        /* Premium Modals with Original Colors */
        .modal-overlay { 
            display: none; 
            position: fixed; 
            inset: 0; 
            background: rgba(0,0,0,0.7);
            backdrop-filter: blur(5px);
            z-index: 2000; 
        }
        
        .modal-overlay.active { 
            display: flex; 
            align-items: flex-end; 
            justify-content: center; 
        }
        
        .modal { 
            background: var(--card);
            border-radius: 25px 25px 0 0; 
            width: 100%; 
            max-width: 500px; 
            max-height: 80vh; 
            overflow-y: auto; 
            padding: 20px;
            box-shadow: var(--shadow-strong);
            animation: slideUp 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        @keyframes slideUp {
            from { 
                transform: translateY(100%); 
                opacity: 0; 
            }
            to { 
                transform: translateY(0); 
                opacity: 1; 
            }
        }
        
        .modal-header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 20px; 
        }
        
        .modal-title { 
            font-size: 1.1rem; 
            font-weight: 800;
            color: var(--primary);
        }
        
        .modal-close { 
            width: 36px; 
            height: 36px; 
            border: none; 
            background: var(--border);
            border-radius: 50%; 
            font-size: 1.2rem; 
            cursor: pointer;
            transition: var(--transition-fast);
        }
        
        .modal-close:hover {
            background: var(--primary);
            color: var(--text-white);
            transform: scale(1.1);
        }

        /* Standalone Info */
        .standalone-info { 
            background: #fff8f0;
            border: 2px solid var(--primary-light);
            border-radius: var(--radius); 
            padding: 18px; 
            margin-bottom: 16px;
            box-shadow: var(--shadow-soft);
        }
        
        .standalone-info h3 { 
            color: var(--primary); 
            margin-bottom: 10px; 
            font-size: 1rem;
            font-weight: 800;
        }
        
        .standalone-info p { 
            color: var(--text); 
            font-size: 0.85rem; 
            line-height: 1.5; 
        }

        .share-buttons { 
            display: flex; 
            gap: 10px; 
            margin-top: 12px; 
        }
        
        .share-btn { 
            flex: 1; 
            padding: 10px; 
            background: var(--primary);
            color: var(--text-white); 
            border: none; 
            border-radius: 12px; 
            font-size: 0.75rem; 
            font-weight: 600; 
            cursor: pointer;
            transition: var(--transition-fast);
        }
        
        .share-btn:hover { 
            transform: translateY(-2px) scale(1.02);
            box-shadow: var(--shadow-soft);
            background: var(--primary-light);
        }
        
        /* Selection Bar */
        .selection-bar { 
            background: var(--card);
            border-radius: var(--radius); 
            padding: 12px 18px; 
            margin-bottom: 16px; 
            display: none; 
            box-shadow: var(--shadow-soft);
            border: 1px solid var(--glass-border);
        }
        
        .selection-bar.active { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
        }
        
        .selection-info { 
            font-weight: 600; 
            font-size: 0.9rem; 
        }

        /* Responsive Design */
        @media (max-width: 375px) {
            .time-tiles { 
                grid-template-columns: repeat(3, 1fr); 
                gap: 10px; 
            }
            
            .status-row { 
                flex-direction: column; 
                gap: 8px; 
            }
            
            .meal-row { 
                flex-direction: column; 
                align-items: stretch; 
            }
        }
        
        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid var(--border);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
        }
    </style>
</head>
<body>
    <div class="standalone-notice">
        üé∞ Casa Casino - Jetzt mit Premium UX!
    </div>

    <header class="header">
        <div></div>
        <h1>üé∞ Casa Casino</h1>
        <button class="install-btn" id="installBtn" onclick="installPWA()">üì± Install</button>
    </header>

    <!-- HEUTE -->
    <div class="screen active" id="screenHeute">
        <div class="standalone-info">
            <h3>‚ú® Premium Experience</h3>
            <p>Casa Casino mit den urspr√ºnglichen Farben und Premium-UX - das Beste aus beiden Welten!</p>
            <div class="share-buttons">
                <button class="share-btn" onclick="shareApp()">üì§ Share</button>
                <button class="share-btn" onclick="downloadApp()">üíæ Download</button>
            </div>
        </div>

        <div class="today-hero">
            <div class="today-date" id="todayDate"></div>
            <div class="today-greeting" id="todayGreeting">Guten Tag!</div>
        </div>
        
        <div class="status-row">
            <div class="status-card free">
                <div class="status-icon">üßò</div>
                <div class="status-value" id="freeTime">8h</div>
                <div class="status-label">Zeit f√ºr mich</div>
            </div>
            <div class="status-card busy">
                <div class="status-icon">üìã</div>
                <div class="status-value" id="busyTime">6h</div>
                <div class="status-label">Eingeplant</div>
            </div>
        </div>
        
        <div class="next-block">
            <div class="next-label">Als N√§chstes</div>
            <div class="next-title" id="nextTitle">Valerie abholen</div>
            <div class="next-time" id="nextTime">12:45</div>
        </div>
        
        <div class="card">
            <div class="card-title">üçΩÔ∏è Heute Abend</div>
            <div id="todayMeal">Noch nicht geplant</div>
        </div>
        
        <div class="card">
            <div class="card-title">üìã To-Dos <span id="todoCount">(3)</span></div>
            <div id="todayTodos">
                <div class="routine-item" onclick="toggleRoutine(this)">
                    <div class="routine-checkbox"></div>
                    <span class="routine-text">Einkaufen gehen</span>
                </div>
                <div class="routine-item" onclick="toggleRoutine(this)">
                    <div class="routine-checkbox"></div>
                    <span class="routine-text">Valerie Sachen waschen</span>
                </div>
                <div class="routine-item" onclick="toggleRoutine(this)">
                    <div class="routine-checkbox"></div>
                    <span class="routine-text">Anna √ºberraschen ‚ù§Ô∏è</span>
                </div>
            </div>
        </div>
    </div>

    <!-- VALERIE -->
    <div class="screen" id="screenValerie">
        <div class="day-nav">
            <button class="day-nav-btn" onclick="changeDay(-1)">‚Üê</button>
            <div style="text-align:center;">
                <div class="day-nav-day" id="dayNavDay">Montag</div>
                <div class="day-nav-date" id="dayNavDate">27. Januar</div>
            </div>
            <button class="day-nav-btn" onclick="changeDay(1)">‚Üí</button>
        </div>
        
        <div class="time-tiles" id="timeTiles">
            <!-- Demo Tiles -->
            <div class="time-tile empty" onclick="selectTile(this)"><div class="tile-time">7:00</div><div class="tile-icon">+</div><div class="tile-label"></div></div>
            <div class="time-tile kiga" onclick="selectTile(this)"><div class="tile-time">8:00</div><div class="tile-icon">üéí</div><div class="tile-label">Kiga</div></div>
            <div class="time-tile kiga" onclick="selectTile(this)"><div class="tile-time">9:00</div><div class="tile-icon">üéí</div><div class="tile-label">Kiga</div></div>
            <div class="time-tile kiga" onclick="selectTile(this)"><div class="tile-time">10:00</div><div class="tile-icon">üéí</div><div class="tile-label">Kiga</div></div>
            <div class="time-tile kiga" onclick="selectTile(this)"><div class="tile-time">11:00</div><div class="tile-icon">üéí</div><div class="tile-label">Kiga</div></div>
            <div class="time-tile kiga" onclick="selectTile(this)"><div class="tile-time">12:00</div><div class="tile-icon">üéí</div><div class="tile-label">Kiga</div></div>
            <div class="time-tile max" onclick="selectTile(this)"><div class="tile-time">13:00</div><div class="tile-icon">üë∂</div><div class="tile-label">Mit Valerie</div></div>
            <div class="time-tile anna" onclick="selectTile(this)"><div class="tile-time">14:00</div><div class="tile-icon">üßò</div><div class="tile-label">F√ºr mich</div></div>
        </div>

        <div class="selection-bar" id="selectionBar">
            <span class="selection-info" id="selectionInfo">Keine Auswahl</span>
            <button class="btn btn-sm btn-primary" onclick="clearSelection()">Clear</button>
        </div>

        <div class="tabs">
            <div class="tab active">üåÖ Routinen</div>
            <div class="tab">‚≠ê Favorites</div>
            <div class="tab">üì∏ Spr√ºche</div>
        </div>
        
        <div class="card">
            <div class="card-title">üåÖ Morgen Routine</div>
            <div class="routine-item done" onclick="toggleRoutine(this)">
                <div class="routine-checkbox">‚úì</div>
                <span class="routine-emoji">‚òÄÔ∏è</span>
                <span class="routine-text">Aufwachen</span>
            </div>
            <div class="routine-item" onclick="toggleRoutine(this)">
                <div class="routine-checkbox"></div>
                <span class="routine-emoji">üöΩ</span>
                <span class="routine-text">Aufs Klo</span>
            </div>
            <div class="routine-item" onclick="toggleRoutine(this)">
                <div class="routine-checkbox"></div>
                <span class="routine-emoji">üëï</span>
                <span class="routine-text">Anziehen</span>
            </div>
            <div class="routine-item" onclick="toggleRoutine(this)">
                <div class="routine-checkbox"></div>
                <span class="routine-emoji">ü•£</span>
                <span class="routine-text">Fr√ºhst√ºck</span>
            </div>
        </div>
    </div>

    <!-- MEALS -->
    <div class="screen" id="screenMeals">
        <div class="dice-section">
            <div class="dice" onclick="rollMealDice()">üé≤</div>
            <p style="font-size:0.9rem;margin-top:8px;opacity:0.95;font-weight:500;">Was essen wir heute?</p>
            <div class="dice-result" id="mealDiceResult" style="display:none;"></div>
        </div>
        
        <div class="tabs">
            <div class="tab active">üìÖ Woche</div>
            <div class="tab">üõí Einkauf</div>
            <div class="tab">üìö Gerichte</div>
        </div>
        
        <div class="meal-row">
            <div class="meal-day">
                <div class="meal-day-name">Mo</div>
                <div class="meal-day-date">27.</div>
            </div>
            <div class="meal-slots">
                <div class="meal-slot filled">Spaghetti Bolognese</div>
            </div>
        </div>
        
        <div class="meal-row">
            <div class="meal-day">
                <div class="meal-day-name">Di</div>
                <div class="meal-day-date">28.</div>
            </div>
            <div class="meal-slots">
                <div class="meal-slot" onclick="selectMeal(this)">Was kochen wir?</div>
            </div>
        </div>
        
        <div class="meal-row">
            <div class="meal-day">
                <div class="meal-day-name">Mi</div>
                <div class="meal-day-date">29.</div>
            </div>
            <div class="meal-slots">
                <div class="meal-slot" onclick="selectMeal(this)">Idee gesucht üí°</div>
            </div>
        </div>
        
        <div class="card">
            <div class="card-title">üõí Einkaufsliste</div>
            <div class="shopping-item" onclick="toggleShopping(this)">
                <div class="shopping-checkbox"></div>
                <span>Milch ü•õ</span>
            </div>
            <div class="shopping-item" onclick="toggleShopping(this)">
                <div class="shopping-checkbox"></div>
                <span>Brot üçû</span>
            </div>
            <div class="shopping-item checked" onclick="toggleShopping(this)">
                <div class="shopping-checkbox">‚úì</div>
                <span>Tomaten üçÖ</span>
            </div>
        </div>
    </div>

    <!-- WIR -->
    <div class="screen" id="screenWir">
        <div class="card">
            <div class="card-title">üíï Date Night Planer</div>
            <p style="margin-bottom:16px;color:var(--text-light);line-height:1.4;">N√§chstes romantisches Abenteuer planen...</p>
            <button class="btn btn-primary btn-block" onclick="rollDateIdea()">üé≤ Date-Idee w√ºrfeln</button>
            <div id="dateResult" style="margin-top:12px;display:none;padding:12px;background:var(--bg);border-radius:12px;"></div>
        </div>
        
        <div class="card">
            <div class="card-title">üíõ Danke Notizen</div>
            <div class="info-item">
                <div class="info-value">Danke f√ºrs Kochen heute! Das war so lecker ‚ù§Ô∏è</div>
                <div class="info-label">Von Anna ‚Ä¢ vor 2h</div>
            </div>
            <div class="info-item">
                <div class="info-value">Du bist die beste Mama f√ºr Valerie! üëë</div>
                <div class="info-label">Von Max ‚Ä¢ gestern</div>
            </div>
            <button class="btn btn-secondary btn-block" onclick="addThankYou()">+ Danke sagen</button>
        </div>
        
        <div class="card">
            <div class="card-title">üéØ Gemeinsame Ziele</div>
            <div class="routine-item" onclick="toggleRoutine(this)">
                <div class="routine-checkbox"></div>
                <span class="routine-text">Mehr Zeit zu zweit</span>
            </div>
            <div class="routine-item" onclick="toggleRoutine(this)">
                <div class="routine-checkbox"></div>
                <span class="routine-text">Gemeinsam kochen</span>
            </div>
            <div class="routine-item done" onclick="toggleRoutine(this)">
                <div class="routine-checkbox">‚úì</div>
                <span class="routine-text">Casa Casino mit Premium UX! üé∞</span>
            </div>
        </div>
    </div>

    <!-- NAV -->
    <nav class="nav">
        <div class="nav-item active" onclick="showScreen('Heute')">
            <span class="nav-icon">üè†</span>
            <span class="nav-label">Heute</span>
        </div>
        <div class="nav-item" onclick="showScreen('Valerie')">
            <span class="nav-icon">üë∂</span>
            <span class="nav-label">Valerie</span>
        </div>
        <div class="nav-item" onclick="showScreen('Meals')">
            <span class="nav-icon">üçΩÔ∏è</span>
            <span class="nav-label">Meals</span>
        </div>
        <div class="nav-item" onclick="showScreen('Wir')">
            <span class="nav-icon">üíú</span>
            <span class="nav-label">Wir</span>
        </div>
    </nav>

    <!-- INLINE SERVICE WORKER f√ºr PWA -->
    <script id="sw-code" type="text/plain">
        const CACHE_NAME = 'casa-casino-final-v1';
        const STATIC_CACHE = ['/'];

        self.addEventListener('install', e => {
            e.waitUntil(
                caches.open(CACHE_NAME).then(cache => {
                    return cache.addAll(STATIC_CACHE);
                })
            );
        });

        self.addEventListener('fetch', e => {
            e.respondWith(
                caches.match(e.request).then(response => {
                    return response || fetch(e.request);
                })
            );
        });
    </script>

    <script>
        // Initialize date display
        function updateDate() {
            const now = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('todayDate').textContent = now.toLocaleDateString('de-DE', options);
            
            const hour = now.getHours();
            let greeting = 'Guten Tag!';
            if (hour < 12) greeting = 'Guten Morgen! ‚òÄÔ∏è';
            else if (hour >= 18) greeting = 'Guten Abend! üåô';
            
            document.getElementById('todayGreeting').textContent = greeting;
        }

        // Enhanced Navigation with smooth animations
        function showScreen(screenName) {
            // Hide all screens
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            
            // Show selected screen with delay for animation
            setTimeout(() => {
                document.getElementById('screen' + screenName).classList.add('active');
            }, 100);
            
            event.currentTarget.classList.add('active');
        }

        // Enhanced Dice Roll with better animations
        function rollMealDice() {
            const meals = [
                'üçù Spaghetti Bolognese',
                'üçï Pizza Margherita', 
                'ü•© Schnitzel mit Pommes',
                'üçõ Thai Curry',
                'üç≤ Gem√ºsesuppe',
                'üåØ Wraps mit H√§hnchen',
                'ü•ò Paella',
                'üçú Ramen'
            ];
            
            const dice = document.querySelector('.dice');
            const result = document.getElementById('mealDiceResult');
            
            dice.classList.add('spinning');
            
            // Add loading state
            result.innerHTML = '<div class="loading"></div>';
            result.style.display = 'block';
            
            setTimeout(() => {
                dice.classList.remove('spinning');
                const meal = meals[Math.floor(Math.random() * meals.length)];
                result.innerHTML = `<strong style="font-size:1.1rem;">${meal}</strong><br><small style="opacity:0.8;">Guten Appetit! ü§§</small>`;
                
                // Add celebration effect
                celebrateChoice();
            }, 600);
        }

        // Date Ideas for "Wir" section
        function rollDateIdea() {
            const dateIdeas = [
                'üç∑ Romantisches Dinner bei Kerzenschein',
                'üö∂‚Äç‚ôÄÔ∏è Spaziergang unter den Sternen',
                'üé¨ Filmabend mit Popcorn',
                'üç≥ Gemeinsam kochen',
                'üß© Puzzle zusammen machen',
                'üõÅ Entspannungsbad zu zweit',
                'üì∏ Foto-Safari in der Stadt',
                'üåÖ Sonnenaufgang anschauen',
                'üé® Mal-Abend',
                '‚òï Caf√©-Date entdecken'
            ];
            
            const result = document.getElementById('dateResult');
            const btn = event.target;
            
            // Loading animation
            btn.innerHTML = '<div class="loading" style="margin:0 auto;"></div>';
            
            setTimeout(() => {
                const idea = dateIdeas[Math.floor(Math.random() * dateIdeas.length)];
                result.innerHTML = `<strong style="color: var(--primary);">${idea}</strong>`;
                result.style.display = 'block';
                btn.innerHTML = 'üé≤ Date-Idee w√ºrfeln';
                celebrateChoice();
            }, 1000);
        }

        // Add Thank You Note
        function addThankYou() {
            const note = prompt('Wof√ºr m√∂chtest du Danke sagen?');
            if (!note) return;
            
            // Simple implementation - in real app would save to storage
            const container = document.querySelector('#screenWir .card:nth-child(2)');
            const newNote = document.createElement('div');
            newNote.className = 'info-item';
            newNote.innerHTML = `
                <div class="info-value">${note}</div>
                <div class="info-label">Gerade eben ‚Ä¢ ‚ù§Ô∏è</div>
            `;
            container.insertBefore(newNote, container.querySelector('button'));
        }

        // Toggle Routine Items
        function toggleRoutine(element) {
            element.classList.toggle('done');
            const checkbox = element.querySelector('.routine-checkbox');
            
            if (element.classList.contains('done')) {
                checkbox.textContent = '‚úì';
                // Add celebration animation
                checkbox.style.animation = 'checkmark 0.3s ease-in-out';
            } else {
                checkbox.textContent = '';
                checkbox.style.animation = '';
            }
        }

        // Toggle Shopping Items
        function toggleShopping(element) {
            element.classList.toggle('checked');
            const checkbox = element.querySelector('.shopping-checkbox');
            
            if (element.classList.contains('checked')) {
                checkbox.textContent = '‚úì';
            } else {
                checkbox.textContent = '';
            }
        }

        // Celebration Effect
        function celebrateChoice() {
            // Simple celebration effect
            document.body.style.animation = 'none';
            setTimeout(() => {
                document.body.style.animation = '';
            }, 10);
        }

        // PWA Installation
        let deferredPrompt;
        const installBtn = document.getElementById('installBtn');

        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            installBtn.classList.add('show');
        });

        function installPWA() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('PWA installed');
                    }
                    deferredPrompt = null;
                    installBtn.classList.remove('show');
                });
            }
        }

        // Share App
        function shareApp() {
            if (navigator.share) {
                navigator.share({
                    title: 'Casa Casino',
                    text: 'Unsere Familien-Organisation App!',
                    url: window.location.href
                });
            } else {
                // Fallback
                const url = window.location.href;
                navigator.clipboard.writeText(url);
                alert('Link kopiert! üìã');
            }
        }

        // Download App (PWA)
        function downloadApp() {
            if (deferredPrompt) {
                installPWA();
            } else {
                alert('Bereits installiert oder nicht unterst√ºtzt');
            }
        }

        // Service Worker Registration
        if ('serviceWorker' in navigator) {
            const swCode = document.getElementById('sw-code').textContent;
            const swBlob = new Blob([swCode], { type: 'application/javascript' });
            const swUrl = URL.createObjectURL(swBlob);
            
            navigator.serviceWorker.register(swUrl).then(registration => {
                console.log('SW registered:', registration);
            }).catch(error => {
                console.log('SW registration failed:', error);
            });
        }

        // Initialize
        updateDate();
        setInterval(updateDate, 60000); // Update every minute

        // Time-based theme (optional)
        function updateThemeBasedOnTime() {
            const hour = new Date().getHours();
            const body = document.body;
            
            // Reset classes
            body.classList.remove('morning', 'evening', 'night');
            
            if (hour >= 6 && hour < 10) {
                body.classList.add('morning');
            } else if (hour >= 18 && hour < 22) {
                body.classList.add('evening');
            } else if (hour >= 22 || hour < 6) {
                body.classList.add('night');
            }
        }

        updateThemeBasedOnTime();
        setInterval(updateThemeBasedOnTime, 60000);

        console.log('üé∞ Casa Casino Final - Premium UX mit urspr√ºnglichen Farben geladen!');
    </script>
</body>
</html>
